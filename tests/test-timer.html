<!--
  Hackathon - a web based fight and collect game.
  Copyright (C) 2014 Christopher Kelley   <tsukumokun(at)icloud.com>
                     Till Smejkal         <till.smejkal(at)gmail.com>

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>
-->
<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8" />
  <title>Hackathon - Bank Testing</title>

  <script src="../js/libs/jquery.min.js"></script>
  <script src="../js/libs/jquery.roundabout.min.js"></script>

  <script src="../js/utils/browser.js"></script>
  <script src="../js/utils/trace.js"></script>

  <script src="../js/utils/guid.js"></script>
  <script src="../js/utils/base.js"></script>

  <script src="../js/app/objects/bank.js"></script>

  <script src="../js/app/logic/resources.js"></script>
  <script src="../js/app/logic/timer.js"></script>

  <style>
    .crappy-plastic-part-made-in-china {
        background-color: #222;
        height: 1.4em;
        font-size: 6em;
        overflow: hidden;
      }
      .pad {
        width: 5em;
        margin: 0 auto;
        height: 1.8em;
      }
      ul {
        list-style: none;
        padding: 0;
        margin: -4.25em -14px 0 0;
        width: 0.85em;
        height: 12em;
        float: left;
      }
      li {
        height: 4em;
        width: 0.7em;
        line-height: 2;
        background-color: #222;
        color: #fff;
        text-align: center;
        cursor: pointer;
        font-weight: bold;
        font-family: "Helvetica Neue", Arial, sans-serif;
      }
        li.roundabout-in-focus {
          cursor: default;
        }
      li span {
        display: block;
        padding-top: 6em;
      }

  </style>
</head>
<body id="ht-test-timer">

  <div class="crappy-plastic-part-made-in-china">
    <section id="pad">

    </section>
  </div>
    
  <script>

  //Counter logic
  var digits = 0;

  function addDigit(){
    $("#pad").append(
      '<ul id="'+digits+'"><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ul>'
    );

    digits += 1;

  }

  addDigit();

  $(function(){
    $('ul').roundabout({
          shape: "waterWheel"
        });
  });
  //<ul id="0">

  //Testing logic

  SYSTEM("Timer Test Starting");

  var bank_interval=setInterval(function(){BANK.log_stats()},5000);
  BANK.log_stats();

  setTimeout(function(){
    SYSTEM("Try converting without sufficient bits");
    SYSTEM("Result: "+BANK.bit_convert(1)+" should be FALSE");
  },3000);
  setTimeout(function(){
    SYSTEM("Try losing bits beyond zero");
    SYSTEM("Result: "+BANK.bit_loss(1)+" should be FALSE");
  },6000);
  setTimeout(function(){
    SYSTEM("Try spending primes beyond zero");
    SYSTEM("Result: "+BANK.prime_spend(1)+" should be FALSE");
  },9000);
  
  setTimeout(function(){
    SYSTEM("Try adding bits to bank");
    SYSTEM("Result: "+BANK.bit_gain(300)+" should be TRUE");
  },12000);
  setTimeout(function(){
    SYSTEM("Try removing bits from bank with gain");
    SYSTEM("Result: "+BANK.bit_gain(-30)+" should be FALSE");
  },14000);
  setTimeout(function(){
    SYSTEM("Try converting bits to primes");
    SYSTEM("Result: "+BANK.bit_convert(20)+" should be TRUE");
  },16000);

  setTimeout(function(){
    SYSTEM("Timer Testing Continues");
  },16000);
  </script>
</body>
</html>
